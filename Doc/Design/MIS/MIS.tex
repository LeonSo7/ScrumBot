\documentclass[12pt, titlepage]{article}

\usepackage{fullpage}
\usepackage[round]{natbib}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{float}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{hhline}
\usepackage{ulem}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}

\newcounter{acnum}
\newcommand{\actheacnum}{AC\theacnum}
\newcommand{\acref}[1]{AC\ref{#1}}

\newcounter{ucnum}
\newcommand{\uctheucnum}{UC\theucnum}
\newcommand{\uref}[1]{UC\ref{#1}}

\newcounter{mnum}
\newcommand{\mthemnum}{M\themnum}
\newcommand{\mref}[1]{M\ref{#1}}

\title{SE 3XA3: Module Interface Specification\\ScrumBot}

\author{
    Team 304, ScrumBot
        \\ Arkin Modi, modia1
        \\ Leon So, sol4
        \\ Timothy Choy, choyt2
}
\date{Last Updated: \today}

\begin{document}

\maketitle

\begin{table}[H]
    \caption{Revision History} \label{TblRevisionHistory}
    \begin{tabularx}{\textwidth}{llX}
        \toprule
            \textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
        \midrule
            March 9, 2020 & Timothy Choy & Create template, ScrumBot Module\\
            March 10, 2020 & Leon So & MeetingList module\\
            March 11, 2020 & Leon So & Meeting, MeetingTypes Modules\\
            March 11, 2020 & Leon So & Project, ProjectList, Meeting, MeetingTypes, Generic Dict Modules\\
            March 11, 2020 & Timothy Choy & Scrumbot Module\\
            March 12, 2020 & Leon So & Rename Meeting Module to Generic Meeting Module\\
            March 12, 2020 & Timothy Choy & Generic Meeting Module, Fixed Formatting\\
            March 12, 2020 & Arkin Modi & Fix Formatting\\
            March 12, 2020 & Leon So & Dict, Meeting, Project, Task, TaskList, Sprint Modules\\
            March 12, 2020 & Timothy Choy & Project, Meeting Modules\\
            March 12, 2020 & Timothy Choy & Completed ScrumBot module\\
            March 13, 2020 & Arkin Modi & Updated ScrumBot Module\\
            April 4, 2020 & Leon So & Revision 1 changes\\
            April 5, 2020 & Leon So & Revision 1 changes\\
        \bottomrule
    \end{tabularx}
\end{table}

\newpage
%% SCRUM BOT
\section* {ScrumBot Module}

\subsection*{Module}
AdminCog, ProjectCog, MeetingCog, MemberCog, Scrumbot, SprintCog, TaskCog

\subsection* {Uses}
discord\\
discord.ext.commands\\
MeetingTypes\\
Generic Dictionary\\
MeetingList\\
Meeting\\
TaskList\\
Task\\
Sprint\\
ProjectList\\
Project

\subsection* {Syntax}
\subsubsection* {Exported Constants}
None

\subsubsection* {Exported Types}
None

\subsubsection* {Exported Access Programs}
\begin{table}[!htb]
    \centering
    \begin{tabular}{|p{3cm}|p{3cm}|p{3cm}|p{4.5cm}|}
        \hline
        \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
        \hline
        on\_ready & & & \\
        \hline
    \end{tabular}
    \caption{ScrumBot Programs}
    \label{tab:scrumbot}
\end{table}

\begin{table}[!htb]
    \centering
    \begin{tabular}{|p{3cm}|p{3cm}|p{3cm}|p{4.5cm}|}
        \hline
        \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
        \hline
        load & commands.Cogs & String & MissingRole, Exception \\
        \hline
        reload & commands.Cogs & String & MissingRole, Exception \\
        \hline
        unload & commands.Cogs & String & MissingRole, Exception \\
        \hline
    \end{tabular}
    \caption{Admin Programs}
    \label{tab:admin}
\end{table}

\begin{table}[!htb]
    \centering
    \begin{tabular}{|p{3cm}|p{3cm}|p{3cm}|p{4.5cm}|}
        \hline
        \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
        \hline
        get\_roles & & discord.embed & \\
        \hline
        get\_roles & String & discord.embed & \\
        \hline
    \end{tabular}
    \caption{Member Programs}
    \label{tab:members}
\end{table}

\begin{table}[!htb]
    \centering
    \begin{tabular}{|p{3.5cm}|p{4cm}|p{3cm}|p{3cm}|}
        \hline
        \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
        \hline
        add\_meeting & $\mathbb{N}$, String, Date, Time, MeetingT & String & MissingRole\\
        \hline
        add\_meeting & $\mathbb{N}$, String, Date, Time, MeetingT, String & String & MissingRole\\
        \hline
        add\_project & String & String & MissingRole \\
        \hline
        add\_project & String, String & String & MissingRole \\
        \hline
        add\_rqe & $\mathbb{N}$, String & String & MissingRole \\
        \hline
        add\_sprint & $\mathbb{N}$ & String & MissingRole \\
        \hline
        get\_project\_desc & $\mathbb{N}$ & discord.embed & \\
        \hline
        get\_rqes & $\mathbb{N}$ & discord.embed & \\
        \hline
        get\_sprints & $\mathbb{N}$ & discord.embed & \\
        \hline
        list\_meetings & $\mathbb{N}$ & discord.embed & \\
        \hline
        list\_projects & & discord.embed & \\
        \hline
        rm\_last\_sprint & $\mathbb{N}$ & String & MissingRole \\
        \hline
        rm\_meeting & $\mathbb{N}$, $\mathbb{N}$ & String & MissingRole \\
        \hline
        rm\_project & $\mathbb{N}$ & String & MissingRole \\
        \hline
        rm\_rqe & $\mathbb{N}$ & String & MissingRole \\
        \hline
        set\_project\_desc & $\mathbb{N}$, String & String & MissingRole \\
        \hline
    \end{tabular}
    \caption{Project Programs}
    \label{tab:project}
\end{table}

\begin{table}[!htb]
    \centering
    \begin{tabular}{|p{3cm}|p{3cm}|p{3cm}|p{4.5cm}|}
        \hline
        \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
        \hline
        get\_meeting\_desc & $\mathbb{N}$, $\mathbb{N}$ & discord.embed & \\
        \hline
        set\_meeting\_desc & $\mathbb{N}$, $\mathbb{N}$, String & String & MissingRole \\
        \hline
    \end{tabular}
    \caption{Meeting Programs}
    \label{tab:meetings}
\end{table}

\begin{table}[!htb]
    \centering
    \begin{tabular}{|p{3cm}|p{5.5cm}|p{2.5cm}|p{2.5cm}|}
        \hline
        \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
        \hline
        add\_task & $\mathbb{N}$, $\mathbb{N}$, String, Date, Time & String & MissingRole\\
        \hline
        add\_task & $\mathbb{N}$, $\mathbb{N}$, String, Date, Time, String & String & MissingRole \\
        \hline
        list\_tasks & $\mathbb{N}$, $\mathbb{N}$ & discord.embed & \\
        \hline
        rm\_task & $\mathbb{N}$, $\mathbb{N}$, $\mathbb{N}$ & String & MissingRole \\
        \hline
    \end{tabular}
    \caption{Sprint Programs}
    \label{tab:sprint}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{|p{3cm}|p{3cm}|p{3cm}|p{4.5cm}|}
        \hline
        \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
        \hline
        add\_feedback & $\mathbb{N}$, $\mathbb{N}$, $\mathbb{N}$, String & String & MissingRole \\
        \hline
        get\_details & $\mathbb{N}$, $\mathbb{N}$, $\mathbb{N}$ & discord.embed & \\
        \hline
        list\_feedback & $\mathbb{N}$, $\mathbb{N}$, $\mathbb{N}$ & discord.embed & \\
        \hline
        rm\_feedback & $\mathbb{N}$, $\mathbb{N}$, $\mathbb{N}$, $\mathbb{N}$ & String & MissingRole \\
        \hline
        set\_details & $\mathbb{N}$, $\mathbb{N}$, String & String & MissingRole \\
        \hline
    \end{tabular}
    \caption{Task Programs}
    \label{tab:task}
\end{table}

\subsection* {Semantics}
\subsubsection* {Environment Variables}
TOKEN: A string constant containing the information linking ScrumBot to Discord's API

\subsubsection* {State Variables}
startup\_extensions: A list of command cogs.

\subsubsection* {State Invariant}
None

\subsubsection* {Assumptions}
This module is the interface between the users and the code. The input taken for the export access programs are text-based commands in Discord, and the output is also in text channels as text output. The methods also keep an output in the terminal as a log of commands used.\\ \\
The exception to this assumption is the access routine on\_ready as the output for the method is found in the terminal only. Due to this, there is no output value in the exported access programs table.\\ \\
Though it is comprised of multiple files with many different purposes, the main purpose for these files are the same. For this reason, they have been grouped together into one module, with the secret being communication between the client from Discord and the system.\\ \\
It is assumed that author refers to the user that initiated the command.\\ \\

\subsubsection* {Access Routine Semantics}

\noindent \textbf{ScrumBot Programs\\}
\noindent on\_ready()
\begin{itemize}
    \item transition: waits for ScrumBot to connect to Discord's API servers using the TOKEN, and upon successful connection, will print out the bot's name and id to the terminal. It is a check for successful connection to the server.
\end{itemize}

\noindent \textbf{Admin Programs\\}
\noindent load($cog$)
\begin{itemize}
    \item transition: attempts to load a Cog into ScrumBot through the use of the command \texttt{load\_extension(cog)}
    
    \item output: $out :=$ $(exc \Rightarrow ``\text{Error: failed to load}"\ ||\ cog\ |\ \lnot\ exc \Rightarrow cog\ ||\ ``\text{loaded}")$
    
    \item exception:\\
    \begin{tabular}{|p{12cm}|l|}
        \hhline{~|-|}
        \multicolumn{1}{r|}{} & \multicolumn{1}{l|}{$exc :=$}\\
        \hhline{|-|-|}
        author\_role $\neq$ admin & MissingRole\\
        \hhline{|-|-|}
        any issue with loading cog & Exception\\
        \hhline{|-|-|}
    \end{tabular}
\end{itemize}

\noindent reload($cog$)
\begin{itemize}
    \item transition: attempts to reload the cog in ScrumBot through unloading the cog then loading the cog
    
    \item output: $out :=$ $(exc \Rightarrow ``\text{Error: failed to reload}"\ ||\ cog\ |\ \lnot\ exc \Rightarrow cog\ ||\ ``\text{reloaded}")$
    
    \item exception:\\
    \begin{tabular}{|p{12cm}|l|}
        \hhline{~|-|}
        \multicolumn{1}{r|}{} & \multicolumn{1}{l|}{$exc :=$}\\
        \hhline{|-|-|}
        author\_role $\neq$ admin & MissingRole\\
        \hhline{|-|-|}
        any issue with unloading or loading cog & Exception\\
        \hhline{|-|-|}
    \end{tabular}
\end{itemize}

\noindent unload($cog$)
\begin{itemize}
    \item transition: attempts to unload a cog from ScrumBot
    
    \item output: $out :=$ $(exc \Rightarrow ``\text{Error: failed to unload}"\ ||\ cog\ |\ \lnot\ exc \Rightarrow cog\ ||\ ``\text{unloaded}")$
    
    \item exception:\\
    \begin{tabular}{|p{12cm}|l|}
        \hhline{~|-|}
        \multicolumn{1}{r|}{} & \multicolumn{1}{l|}{$exc :=$}\\
        \hhline{|-|-|}
        author\_role $\neq$ admin & MissingRole\\
        \hhline{|-|-|}
        any issue with unloading cog & Exception\\
        \hhline{|-|-|}
    \end{tabular}
\end{itemize}

\noindent \textbf{Member Programs\\}
\noindent get\_roles()
\begin{itemize}
    \item transition: finds all roles that are assigned to the author
    \item output: $out :=$ a discord.embed such that it contains the chosen author's name, icon, and a list of their roles
\end{itemize}

\noindent get\_roles($name$)
\begin{itemize}
    \item transition: takes in the name of a Discord user and finds all roles that are assigned to that user
    \item output: $out :=$ a discord.embed such that it contains the chosen user's name, icon, and a list of their roles
\end{itemize}

\noindent \textbf{Project Programs\\}
\noindent add\_meeting($n, name, date, time, meeting$)
\begin{itemize}
    \item transition: new Meeting($name, date, time, meeting$), add it to project $n$ using add\_meeting
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added meeting}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent add\_meeting($n, name, date, time, meeting, desc$)
\begin{itemize}
    \item transition: new Meeting($name, date, time, meeting, desc$), add it to project $n$ using add\_meeting
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added meeting}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent add\_project($name$)
\begin{itemize}
    \item transition: new Project($name$)
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added project}")$
    \item exception: $exc :=$ author\_role $\neq$ admin $\Rightarrow$ MissingRole
\end{itemize}

\noindent add\_project($name, desc$)
\begin{itemize}
    \item transition: new Project($name, desc$)
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added project}")$
    \item exception: $exc :=$ author\_role $\neq$ admin $\Rightarrow$ MissingRole
\end{itemize}

\noindent add\_rqe($n, s$)
\begin{itemize}
    \item transition: add\_rqe($s$) in project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added requirements}")$
    \item exception: $exc :=$ author\_role $\neq$ Business Analyst $\Rightarrow$ MissingRole
\end{itemize}

\noindent add\_sprint($n$)
\begin{itemize}
    \item transition: new Sprint(), then add the sprint to project $n$ using add\_sprint(sprint)
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added a sprint}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent get\_project\_desc($n$)
\begin{itemize}
    \item output: $out :=$ A discord.embed such that it contains the project name and description of project $n$
\end{itemize}

\noindent get\_rqes($n$)
\begin{itemize}
    \item output: $out :=$ A discord.embed such that it contains the project name and list of requirements of project $n$
\end{itemize}

\noindent get\_sprints($n$)
\begin{itemize}
    \item output: $out :=$ A discord.embed such that it contains the project name and list of sprints of project $n$
\end{itemize}

\noindent list\_meetings($n$)
\begin{itemize}
    \item output: $out :=$ A discord.embed such that it contains the project name and list of meetings of project $n$, as well as show the times for all the meetings
\end{itemize}

\noindent list\_projects()
\begin{itemize}
    \item output: $out :=$ A discord.embed containing all the created projects, identified by their name
\end{itemize}

\noindent rm\_last\_sprint($n$)
\begin{itemize}
    \item transition: removes the last sprint of project $n$ using rm\_sprint()
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully removed a sprint}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent rm\_meeting($n, m$)
\begin{itemize}
    \item transition: removes a meeting from project $n$ using rm\_meeting($m$)
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully removed a meeting}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent rm\_project($n$)
\begin{itemize}
    \item transition: removes a project by their project id using remove($n$)
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully removed a project}")$
    \item exception: $exc :=$ author\_role $\neq$ admin $\Rightarrow$ MissingRole
\end{itemize}

\noindent rm\_rqe($n, m$)
\begin{itemize}
    \item transition: remove requirement $m$ from project $n$ using rm\_rqe($m$)
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully removed a requirement}")$
    \item exception: $exc :=$ author\_role $\neq$ Business Analyst $\Rightarrow$ MissingRole
\end{itemize}

\noindent set\_project\_desc($n, s$)
\begin{itemize}
    \item transition: set\_desc($s$) in project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully set description}")$
    \item exception: $exc :=$ author\_role $\neq$ Business Analyst $\land$ author\_role $\neq$ admin $\Rightarrow$ MissingRole
\end{itemize}

\noindent \textbf{Meeting Programs\\}
\noindent get\_meeting\_desc($n, m$)
\begin{itemize}
    \item output: $out :=$ A discord.embed such that it contains the meeting description of meeting $m$ in project $n$, showing the meeting name and project name as well
\end{itemize}

\noindent set\_meeting\_desc($n, m, s$)
\begin{itemize}
    \item transition: set\_desc($s$) for meeting $m$ in project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully set description}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent \textbf{Sprint Programs\\}
\noindent add\_task($n, m, name, date, time$)
\begin{itemize}
    \item transition: new Task($name, date, time$) then add\_task(task) in sprint $m$, project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added task}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent add\_task($n, m, name, date, time, detail$)
\begin{itemize}
    \item transition: new Task($name, date, time, detail$) then add\_task(task) in sprint $m$, project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added task}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\land$ author\_role $\neq$ Business Analyst $\Rightarrow$ MissingRole
\end{itemize}

\noindent list\_tasks($n, m$)
\begin{itemize}
    \item output: $out :=$ A discord.embed such that it lists all the tasks of sprint $m$ in project $n$, as well as their deadlines
\end{itemize}

\noindent rm\_task($n, m, k$)
\begin{itemize}
    \item transition: rm\_task($k$) in sprint $m$ in project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully removed task}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\land$ author\_role $\neq$ Business Analyst $\Rightarrow$ MissingRole
\end{itemize}

\noindent \textbf{Task Programs\\}
\noindent add\_feedback($n, m, k, s$)
\begin{itemize}
    \item transition: add\_feedback($s$) in task $k$, sprint $m$, project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully added feedback}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent get\_details($n, m, k$)
\begin{itemize}
    \item output: $out :=$ A discord.embed such that it shows the details of task $k$, in sprint $m$, in project $n$, using get\_details()
\end{itemize}

\noindent list\_feedback($n, m, k$)
\begin{itemize}
    \item output: $out :=$ A discord.embed such that it lists all the feedback of task $k$, in sprint $m$, in project $n$, using get\_feedback()
\end{itemize}

\noindent rm\_feedback($n, m, k, x$)
\begin{itemize}
    \item transition: rm\_feedback($x$) for task $k$ in sprint $m$ in project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully removed feedback}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\Rightarrow$ MissingRole
\end{itemize}

\noindent set\_details($n, m, s$)
\begin{itemize}
    \item transition: set\_details($s$) for task $k$ in sprint $m$ in project $n$
    \item output: $out :=$ $(exc \Rightarrow ``\text{MissingRole: You have insufficient permissions}"\ |\ \lnot\ exc \Rightarrow ``\text{Successfully set details}")$
    \item exception: $exc :=$ author\_role $\neq$ Scrum Master $\land$ author\_role $\neq$ Business Analyst $\Rightarrow$ MissingRole
\end{itemize}

\newpage

%% MEETING TYPES
\section* {MeetingTypes Module}

\subsection* {Module}
MeetingTypes

\subsection*{Uses}
N/A

\subsection*{Syntax}
\subsubsection*{Exported Constants}
N/A

\subsubsection*{Exported Types}
MeetingT = \{Grooming, StandUp, Retrospective, SprintPlanning\}

\subsubsection*{Exported Access Programs}
None

\subsection*{Semantics}
\subsubsection* {State Variables}
None

\subsubsection* {State Invariant}
None

\newpage

%% GENERIC LIST MODULE
\section*{Generic Dictionary Module}

\subsection*{Generic Template Module}
Dict(T)

\subsection*{Uses}
N/A

\subsection*{Syntax}
\subsubsection*{Exported Types}
Dict = ?

\subsubsection*{Exported Constants}
None

\subsubsection* {Exported Access Programs}
\begin{tabular}{|p{3cm}|p{3cm}|p{3cm}|p{4.5cm}|}
    \hline
    \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
    \hline
    new Dict(T) & & Dict(T) &\\
    \hline
    add & T & &\\
    \hline
    \textcolor{red}{update} & \textcolor{red}{$\mathbb{N}$, String} & &\\
    \hline
    remove & $\mathbb{N}$ & & KeyError\\
    \hline
    \textcolor{red}{get\_last\_id} & & \textcolor{red}{$\mathbb{N}$} &\\
    \hline
    to\_seq & & seq of ($\mathbb{N}$,T) & \\
    \hline
\end{tabular}

\subsection*{Semantics}
\subsubsection*{State Variables}
d: seq of ($\mathbb{N}$,T) \\
c: $\mathbb{N}$

\subsubsection*{State Invariant}
$|d| \geq 0$\\
$c \geq 0$

\subsection*{Assumptions \& Design Decisions}
The Dict(T) constructor is called for each object instance before any other access routine is called for that object.\\ \\
It is assumed that the first term in Dict is referred to as the "key" and the second term is the "value".


\subsection*{Access Routine Semantics}
\noindent new Dict()
\begin{itemize}
    \item transition: $d, c := \langle \rangle, 0$
    
    \item output: $out :=$ self
\end{itemize}

\noindent add($e$)
\begin{itemize}
    \item transition: $d :=  d\ ||\ \langle c,\ e \rangle, c := c + 1$
\end{itemize}

\noindent\textcolor{red}{update($id$,$e$)}
\begin{itemize}
    \item \textcolor{red}{transition: $d[id],c := e,id+1$}
\end{itemize}

\noindent remove($id$)
\begin{itemize}
    \item transition: $d :=  d - \langle id, e \rangle$
    \item exception: $exc := \langle id, e \rangle \notin d \Rightarrow \text{KeyError}$
\end{itemize}

\noindent\textcolor{red}{get\_last\_id()}
\begin{itemize}
    \item \textcolor{red}{output: $out := c - 1$}
\end{itemize}

\noindent to\_seq()
\begin{itemize}
    \item output: $out := d$ such that $(\forall i \in \mathbb{N} \mid 0 \leq i < |d| \cdot d[i].key() \leq d[i + 1].key())$
\end{itemize}

\newpage
%% MEETING LIST
\section* {MeetingList Module}

\subsection*{Template Module}
MeetingList is a Dict(Meeting)

\newpage

%% Meeting
\section* {Meeting Module}

\subsection*{Module}
Meeting

\subsection* {Uses}
MeetingTypes

\subsection* {Syntax}
\subsubsection* {Exported Constants}
None

\subsubsection* {Exported Types}
Meeting = ?

\subsubsection* {Exported Access Programs}
\begin{tabular}{|l|l|l|l|}
    \hline
    \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
    \hline
    new Meeting & String, \sout{Date, Time} \textcolor{red}{String}, MeetingT & Meeting & \\
    \hline
    new Meeting & String, \sout{Date, Time} \textcolor{red}{String}, MeetingT, String & Meeting & \\
    \hline
    get\_name & & String &\\
    \hline
    \textcolor{red}{get\_datetime} & & \textcolor{red}{String} &\\
    \hline
    {\sout{get\_date}} & & {\sout{Date}}&\\
    \hline
    {\sout{get\_time}} & & {\sout{Time}}&\\
    \hline
    get\_type & & MeetingT &\\
    \hline
    get\_desc & & String &\\
    \hline
    set\_desc & String & & \\
    \hline
\end{tabular}

\subsection* {Semantics}
\subsubsection* {State Variables}
$name$: String\\
{\sout{$date$: Date}}\\
{\sout{$time$: Time}}\\
\textcolor{red}{$d$: Datetime}\\
$type$: MeetingT\\
$desc$: String

\subsubsection* {State Invariant}
None

\subsubsection* {Assumptions}
\begin{itemize}
  \item The Meeting constructor is called for each object instance before any other access routine is called for that object.
\end{itemize}


\subsubsection* {Access Routine Semantics}
\noindent new Meeting($n$, \sout{$d$, $t$} \textcolor{red}{$dt$}, $type$)
\begin{itemize}
    \item transition: $name,$ \sout{$time,\ date$}\textcolor{red}{$,\ d$},\ $type,\ desc := n,$ \sout{$d,\ t$} \textcolor{red}{$Datetime(dt),$}\ $type,\ \text{None}$
    \item output: $out :=$ self
\end{itemize}

\noindent new Meeting($n$, \sout{$d$, $t$} \textcolor{red}{$dt$}, $type$, $desc$)
\begin{itemize}
    \item transition: $name,$ \sout{$time,\ date$}\textcolor{red}{$,\ d$},\ $type,\ desc := n,$ \sout{$d,\ t$} \textcolor{red}{$Datetime(dt),$}\ $type,\ desc$
    \item output: $out :=$ self
\end{itemize}

\noindent {\sout{get\_name()}}
\begin{itemize}
    \item {\sout{$output: out := name$}}
\end{itemize}

\noindent {\sout{get\_date()}}
\begin{itemize}
    \item {\sout{$output: out := date$}}
\end{itemize}

\noindent {\sout{get\_time()}}
\begin{itemize}
    \item {\sout{$output: out := time$}}
\end{itemize}

\noindent \textcolor{red}{get\_datetime()}
\begin{itemize}
    \item \textcolor{red}{output: $out := String(d)$}
\end{itemize}

\noindent get\_type()
\begin{itemize}
    \item output: $out := type$
\end{itemize}

\noindent get\_desc()
\begin{itemize}
    \item output: $out :=$ \sout{$desc$}\textcolor{red}{$ (desc = \text{None} \Rightarrow ``\text{No description}"\ |\ desc)$}
\end{itemize}

\noindent set\_desc($s$)
\begin{itemize}
    \item transition: $desc := s$
\end{itemize}

\newpage

\section*{TaskList Module}

\subsection*{Template Module}
TaskList is a Dict(Task)

\newpage

\section*{Task Module}

\subsection*{Module}
Task

\subsection*{Uses}
None

\subsection* {Syntax}
\subsubsection* {Exported Constants}
None

\subsubsection* {Exported Types}
Task = ?

\subsubsection* {Exported Access Programs}
\begin{tabular}{|l|l|l|l|}
    \hline
    \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
    \hline
    new Task & String, \sout{Date, Time} \textcolor{red}{String} & Task & \\
    \hline
    new Task & String, \sout{Date, Time} \textcolor{red}{String}, Details & Task & \\
    \hline
    \textcolor{red}{get\_name} & & \textcolor{red}{String} & \\
    \hline
    get\_deadline & & \sout{(Date, Time)} \textcolor{red}{String} & \\
    \hline
    get\_details & & String & \\
    \hline
    get\_feedback & & seq of String& \\
    \hline
    add\_feedback & String & & \\
    \hline
    rm\_feedback & $\mathbb{N}$ &&\\
    \hline
    set\_details & String & & \\
    \hline
\end{tabular}

\subsection*{Semantics}
\subsubsection*{State Variables}
$name$: String\\
$deadline$: \sout{(Date, Time)} \textcolor{red}{Datetime}\\
$details$: String\\
$feedback$: seq of String

\subsubsection*{State Invariant}
None

\subsubsection*{Assumptions}
\begin{itemize}
  \item The Task constructor is called for each object instance before any other access routine is called for that object.
\end{itemize}

\subsubsection*{Access Routine Semantics}
\noindent new Task($s,$ \sout{$d, t$} \textcolor{red}{$dt$})
\begin{itemize}
    \item transition: $name, deadline, details := s,$ \textcolor{red}{\sout{$(d, t)$} $Datetime(dt)$}$, \text{None}$
    \item output: $out :=$ self
\end{itemize}

\noindent new Task($s,$ \sout{$d, t$} \textcolor{red}{$dt$}$, details$)
\begin{itemize}
    \item transition: $name, deadline, details := s,$ \sout{$(d, t)$} \textcolor{red}{$Datetime(dt)$}$, details$
    \item output: $out :=$ self
\end{itemize}

\noindent \textcolor{red}{get\_name()}
\begin{itemize}
    \item \textcolor{red}{output: $out := name$}
\end{itemize}

\noindent get\_deadline()
\begin{itemize}
    \item output: $out :=$ \sout{$deadline$}\textcolor{red}{$String(deadline)$}
\end{itemize}

\noindent get\_details()
\begin{itemize}
    \item output: $out := (details = \text{None} \Rightarrow ``\text{No details}"\ |\ details)$
\end{itemize}

\noindent get\_feedback()
\begin{itemize}
    \item output: $out := feedback$
\end{itemize}

\noindent add\_feedback($s$)
\begin{itemize}
    \item transition: $feedback := feedback\ ||\ s$
\end{itemize}
\newpage

\noindent rm\_feedback($s$)
\begin{itemize}
    \item transition: $feedback := feedback - s$
\end{itemize}

\noindent set\_details($s$)
\begin{itemize}
    \item transition: $details := s$
\end{itemize}

\newpage

%% Sprint
\section* {Sprint Module}

\subsection*{Module}
Sprint

\subsection* {Uses}
TaskList, Task 

\subsection* {Syntax}
\subsubsection* {Exported Constants}
None

\subsubsection* {Exported Types}
Sprint = ?

\subsubsection* {Exported Access Programs}
\begin{tabular}{|l|l|l|l|}
    \hline
    \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
    \hline
    new Sprint & & Sprint & \\
    \hline
    \textcolor{red}{new Sprint} & \textcolor{red}{Date} & \textcolor{red}{Sprint} & \\
    \hline
    \textcolor{red}{get\_date} &  & \textcolor{red}{String} & \\
    \hline
    \textcolor{red}{get\_feedback} & \textcolor{red}{$\mathbb{N}$}& \textcolor{red}{String} & \textcolor{red}{KeyError}\\
    \hline
    \textcolor{red}{get\_last\_task\_id} & & \textcolor{red}{$\mathbb{N}$}& \\
    \hline
    get\_tasks & & seq of Task &\\
    \hline
    \textcolor{red}{get\_task} & \textcolor{red}{$\mathbb{N}$}& &\\
    \hline
    \textcolor{red}{add\_feedback} & \textcolor{red}{$\mathbb{N}$, String} & &\\
    \hline
    add\_task & \sout{Task} \textcolor{red}{String, String} & & \\
    \hline
    \textcolor{red}{add\_task} & \textcolor{red}{String, String, String} & & \\
    \hline
    \textcolor{red}{add\_task\_from\_file} & \textcolor{red}{$\mathbb{N}$, String, String} & & \\
    \hline
    \textcolor{red}{add\_task\_from\_file} & \textcolor{red}{$\mathbb{N}$, String, String, String} & &\\
    \hline
    \textcolor{red}{rm\_feedback} & \textcolor{red}{$\mathbb{N,N}$}& & \textcolor{red}{KeyError}\\
    \hline
    rm\_task & $\mathbb{N}$ & &\\
    \hline
    \textcolor{red}{set\_details} & \textcolor{red}{$\mathbb{N}$, String} & & \textcolor{red}{KeyError}\\
    \hline
\end{tabular}

\subsection*{Semantics}
\subsubsection*{State Variables}
$tasks$: TaskList\\
\textcolor{red}{$date$: Date}
\subsubsection*{State Invariant}
None

\subsubsection*{Assumptions}
\begin{itemize}
  \item The Sprint constructor is called for each object instance before any other access routine is called for that object.
\end{itemize}

\subsubsection*{Access Routine Semantics}
\noindent new Sprint($n$)
\begin{itemize}
    \item transition: $tasks$\textcolor{red}{$, date$} $:= TaskList()$\textcolor{red}{$, Datetime.today()$}
    \item output: $out :=$ self
\end{itemize}

\noindent \textcolor{red}{new Sprint($n, d$)}
\begin{itemize}
    \item \textcolor{red}{transition: $tasks$\textcolor{red}{$, date$} $:= TaskList()$\textcolor{red}{$, Datetime(d)$}}
    \item \textcolor{red}{output: $out :=$ self}
\end{itemize}

\noindent \textcolor{red}{get\_date()}
\begin{itemize}
    \item \textcolor{red}{output: $out := String(date)$}
\end{itemize}

\noindent get\_task\textcolor{red}{s}(\sout{$n$})
\begin{itemize}
    \item output: $out := tasks.to\_seq()$
\end{itemize}

\noindent \textcolor{red}{get\_task($n$)}
\begin{itemize}
    \item \textcolor{red}{output: $out := get\_tasks()[n]$}
\end{itemize}

\noindent \textcolor{red}{get\_feedback($n$)}
\begin{itemize}
    \item \textcolor{red}{output: $out := get\_task(n).get\_feedback()$}
    \item \textcolor{red}{exception: $exc := get\_task(n) ==$ None $\Rightarrow$ KeyError}
\end{itemize}

\noindent \textcolor{red}{get\_last\_task\_id()}
\begin{itemize}
    \item \textcolor{red}{output: $out := tasks.get\_last\_id()$}
\end{itemize}

\noindent \textcolor{red}{add\_feedback($n, s$)}
\begin{itemize}
    \item \textcolor{red}{transition: $:= get\_tasks(n).add\_feedback(s)$}
    \item \textcolor{red}{exception: $exc := get\_task(n) ==$ None $\Rightarrow$ KeyError}
\end{itemize}

\noindent add\_task(\sout{$task$}\textcolor{red}{$name,deadline$})
\begin{itemize}
    \item transition: $tasks := tasks.add($\sout{$task$}\textcolor{red}{$new\ Task(name, deadline)$}$)$
\end{itemize}

\noindent \textcolor{red}{add\_task($name,deadline,details$)}
\begin{itemize}
    \item \textcolor{red}{transition: $tasks := tasks.add(new\ Task(name, deadline, details))$}
\end{itemize}

\noindent \textcolor{red}{add\_task\_from\_file($n, name, deadline$)}
\begin{itemize}
    \item \textcolor{red}{transition: $tasks := tasks.update(n, new\ Task(name, deadline))$}
\end{itemize}

\noindent \textcolor{red}{add\_task\_from\_file($n, name, deadline, details$)}
\begin{itemize}
    \item \textcolor{red}{transition: $tasks := tasks.update(n, new\ Task(name, deadline, details))$}
\end{itemize}

\noindent \textcolor{red}{rm\_feedback($task\_id, feedback\_id$)}
\begin{itemize}
    \item \textcolor{red}{transition: $tasks := get\_task(task\_id).rm\_feedback(feedback\_id)$}
    \item \textcolor{red}{exception: $exc := get\_task(task\_id) ==$ None $\Rightarrow$ KeyError}
\end{itemize}

\noindent rm\_task($n$)
\begin{itemize}
    \item transition: $tasks := tasks.remove(n)$
\end{itemize}

\noindent \textcolor{red}{set\_details($n, s$)}
\begin{itemize}
    \item \textcolor{red}{transition: $tasks := get\_task(n).set\_details(s)$}
    \item \textcolor{red}{exception: $exc := get\_task(n) ==$ None $\Rightarrow$ KeyError}
\end{itemize}
\newpage

%% Project List Module
\section* {ProjectList Module}

\subsection*{Template Module}
ProjectList is a Dict(Project)

\newpage

%% Project
\section* {Project Module}

\subsection*{Module}
Project

\subsection* {Uses}
Sprint, Tasklist, Task

\subsection* {Syntax}
\subsubsection* {Exported Constants}
None

\subsubsection* {Exported Types}
Project = ?

\subsubsection* {Exported Access Programs}
\begin{tabular}{|l|l|l|l|}
    \hline
    \textbf{Routine Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
    \hline
    new Project & String & Project & \\
    \hline
    new Project & String, String & Project & \\
    \hline
    get\_desc & & String &\\
    \hline
    get\_meetings & & seq of Meeting &\\
    \hline
    get\_rqes & & seq of String & \\
    \hline
    get\_sprints & & seq of Sprint & \\
    \hline
    set\_desc & String & &\\
    \hline
    add\_meeting & Meeting & & \\
    \hline
    add\_rqe & String & & \\
    \hline
    add\_sprint & Sprint & & \\
    \hline
    rm\_meeting & $\mathbb{N}$ &  &\\
    \hline
    rm\_rqe & $\mathbb{N}$ &  & IndexError\\
    \hline
    rm\_sprint & & & IndexError\\
    \hline
\end{tabular}

\subsection*{Semantics}
\subsubsection*{State Variables}
$name$: String\\
$desc$: String\\
$meetings$: MeetingList\\
$rqes$: seq of String\\
$sprints$: seq of Sprint\\
$c$: $\mathbb{N}$

\subsubsection*{State Invariant}
$c = |sprints|\ \land\ c \geq 0$ 

\subsubsection*{Assumptions}
\begin{itemize}
  \item The Project constructor is called for each object instance before any other access routine is called for that object.
\end{itemize}

\subsubsection*{Access Routine Semantics}
\noindent new Project($n$)
\begin{itemize}
    \item transition: $name, desc, rqes, sprints := n,\ \text{None},\ [],\ []$
    \item output: $out :=$ self
\end{itemize}

\noindent new Project($n$, $d$)
\begin{itemize}
    \item transition: $name, desc, rqes, sprints := n,\ d,\ [],\ []$
    \item output: $out :=$ self
\end{itemize}

\noindent get\_desc()
\begin{itemize}
    \item output: $out := (desc = \text{None} \Rightarrow ``\text{No description}"\ |\ desc)$
\end{itemize}

\noindent get\_meetings()
\begin{itemize}
    \item output: $out := meetings.to_seq()$
\end{itemize}

\noindent get\_rqes()
\begin{itemize}
    \item output: $out := rqes$
\end{itemize}

\noindent get\_sprints()
\begin{itemize}
    \item output: $out := sprints$
\end{itemize}

\noindent set\_desc($s$)
\begin{itemize}
    \item transition: $desc := s$
\end{itemize}

\noindent add\_meeting($meeting$)
\begin{itemize}
    \item transition: $meetings := meetings.add(meeting)$
\end{itemize}

\noindent add\_rqe($s$)
\begin{itemize}
    \item transition: $rqes := rqes\ ||\ s$
\end{itemize}

\noindent add\_sprint($sprint$)
\begin{itemize}
    \item transition: $sprints, c := sprints\ ||\ sprint, c + 1$
\end{itemize}

\noindent rm\_meeting($n$)
\begin{itemize}
    \item transition: $meetings := meetings.remove(n)$
\end{itemize}

\noindent rm\_rqe($n$)
\begin{itemize}
    \item transition: $rqes := rqes - rqes[n]$
\end{itemize}

\noindent rm\_sprint()
\begin{itemize}
    \item transition: $sprints, c := sprints[0: |sprints| - 2], c - 1$
    \item exception: $exc := c = 0 \Rightarrow \text{IndexError}$
\end{itemize}

\end{document}
